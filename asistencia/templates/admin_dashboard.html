{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin</title>
    <link rel="shortcut icon" href="{% static 'img/LOGO.JPG' %}" type="image/x-icon">
    <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
    <link href="{% static 'font-awesome/css/font-awesome.css' %}" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/zabuto_calendar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'js/gritter/css/jquery.gritter.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'lineicons/style.css' %}">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/style-responsive.css' %}" rel="stylesheet">
    <script src="{% static 'js/chart-master/Chart.js' %}"></script>
</head>
<body>
    <style>
        .page-header {
            color: #602935;
            font-weight: bold;
            margin-bottom: 20px;
        }
    </style>        
    <section id="container">
        {% include 'general/menu.html' %}

        <section id="main-content">
            <section class="wrapper">
                <!-- Título del Dashboard -->
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">Dashboard de Administrador</h1>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-9 main-chart">
                        <!-- Dashboard Statistics -->
                        <div class="row mtbox">
                            <div class="col-md-2 col-sm-2 col-md-offset-1 box0">
                                <div class="box1">
                                    <span class="li_user"></span>
                                    <h3>{{ total_usuarios }}</h3>
                                </div>
                                <p>Total de Usuarios</p>
                            </div>
                            <div class="col-md-2 col-sm-2 box0">
                                <div class="box1">
                                    <span class="li_cloud"></span>
                                    <h3>{{ usuarios_activos }}</h3>
                                </div>
                                <p>Usuarios Activos</p>
                            </div>
                            <div class="col-md-2 col-sm-2 box0">
                                <div class="box1">
                                    <span class="li_stack"></span>
                                    <h3>{{ usuarios_inactivos }}</h3>
                                </div>
                                <p>Usuarios Inactivos</p>
                            </div>
                            <div class="col-md-2 col-sm-2 box0">
                                <div class="box1">
                                    <span class="li_clock"></span>
                                    <h3>{{ total_horas_hoy|floatformat:2 }}</h3>
                                </div>
                                <p>Horas Trabajadas Hoy</p>
                            </div>
                            <div class="col-md-2 col-sm-2 box0">
                                <div class="box1">
                                    <span class="li_data"></span>
                                    <h3>{{ qrs_totales }}</h3>
                                </div>
                                <p>QRs Totales</p>
                            </div>
                        </div>
        
                        <!-- Últimos Usuarios y Asistencias -->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="white-panel pn">
                                    <div class="white-header">
                                        <h5>Últimos Usuarios</h5>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Nombre</th>
                                                <th>Correo</th>
                                                <th>Activo</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for usuario in usuarios %}
                                            <tr>
                                                <td>{{ usuario.nombre }} {{ usuario.apellido_paterno }} {{ usuario.apellido_materno }}</td>
                                                <td>{{ usuario.correo_electronico }}</td>
                                                <td>{% if usuario.activo %}Sí{% else %}No{% endif %}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
        
                            <div class="col-md-6">
                                <div class="white-panel pn">
                                    <div class="white-header">
                                        <h5>Últimas Asistencias</h5>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Usuario</th>
                                                <th>Entrada</th>
                                                <th>Salida</th>
                                                <th>Horas</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for asistencia in asistencias %}
                                            <tr>
                                                <td>{{ asistencia.usuario.nombre }} {{ asistencia.usuario.apellido_paterno }} {{ asistencia.usuario.apellido_materno }}</td>
                                                <td>{{ asistencia.hora_entrada }}</td>
                                                <td>{{ asistencia.hora_salida }}</td>
                                                <td>{{ asistencia.horas_trabajadas|floatformat:2 }} hrs</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>
        <!--main content end-->

    <!-- Scripts -->
    <script src="{% static 'js/jquery.js' %}"></script>
    <script src="{% static 'js/jquery-1.8.3.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script class="include" type="text/javascript" src="{% static 'js/jquery.dcjqaccordion.2.7.js' %}"></script>
    <script src="{% static 'js/jquery.scrollTo.min.js' %}"></script>
    <script src="{% static 'js/jquery.nicescroll.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery.sparkline.js' %}"></script>
    <script src="{% static 'js/common-scripts.js' %}"></script>
    <script type="text/javascript" src="{% static 'gritter/js/jquery.gritter.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/gritter-conf.js' %}"></script>
    <script src="{% static 'js/sparkline-chart.js' %}"></script>
    <script src="{% static 'js/zabuto_calendar.js' %}"></script>
</body>
</html>
